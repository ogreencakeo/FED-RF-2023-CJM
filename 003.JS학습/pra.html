<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS5-6.2. JS클래스 상속 + 겟터, 셋터</title>
        <script>
            class MovieInfo{
                constructor(pos, tit, sum, dir, act, des){
                    this.포스터 = pos;
                    this.제목 = tit;
                    this.개요 = sum;
                    this.감독 = dir;
                    this.출연 = act;
                    this.문구 = des;
                }
                공통메서드(txt){
                    return  `영화의 ${this.제목}의 감독님 이름${this.감독}, 나의 응원은 ${txt}`; 
                }
            }
            
            class CGV extends MovieInfo{
                constructor(pos, tit, sum, dir, act, des, num, msg){
                    super(pos, tit, sum, dir, act, des);
                    this.수용인원 = num;
                    this.메시지 = msg;
                }

                showCGV(txt){
                    return super.공통메서드(txt) + ', CGV안내 :' + this.메시지;
                }

                get People(){
                    return this.수용인원;
                }

                set People(n){
                    if(isNaN(n)){
                        n = 30;
                    }else{
                        this.수용인원 = n;
                    }
                }
            }
            
            class MegaBox extends MovieInfo{
                constructor(pos, tit, sum, dir, act, des, num, msg){
                    super(pos, tit, sum, dir, act, des);
                    this.수용인원 = num;
                    this.팝콘소식 = msg;
                }

                showMega(txt){
                    return super.공통메서드(txt) + ', MegaBox 팝콘소식 :' + this.팝콘소식;
                }

                get hallNum(){
                    return this.수용인원;
                }
                set hallNum(n){
                    if(isNaN(n)){
                        n = 100;
                    }else{
                        this.수용인원 = n;
                    }
                }
            }

            const cgvInfo1 = new CGV(
                "https://movie-phinf.pstatic.net/20221213_158/1670910727328mpqYu_JPEG/movie_image.jpg?type=m203_290_2",
                "영웅",
                "드라마, 뮤지컬",
                "윤제균",
                "정성화, 김고은",
                "누가 죄인인가",
                50, 
                "CGV는 항상 영화팬들과 함께합니다~!"
            );

            const megaInfo1 = new MegaBox(
                "https://movie-phinf.pstatic.net/20201116_276/1605491658399poUOC_JPEG/movie_image.jpg?type=m99_141_2",
                "조제",
                "멜로/로맨스, 드라마",
                "김종관",
                "한지민, 남주혁",
                "조제 보러 오세요",
                300,
                "롤리팝과 먹는 새로운 롤리팝콘 출시!!!"
            );

            window.addEventListener('load', ()=>{
                let hcode = '<h1>[ CGV 상영관 영화 안내 ]</h1><ul>';
                let posterImg = (x)=> `<img src="${x}"/>`
                Object.keys(cgvInfo1).forEach(ele=> hcode+= `
                    <li>${ele == '포스터'? posterImg(cgvInfo1.포스터) : cgvInfo1[ele]}</li>
                `)
                hcode += `<li>${ cgvInfo1.showCGV('CGV는 항상 훌륭합니다.')}</li>`
                hcode += `<li>🥓 2022년 CGV 극장 수용인원은 ${cgvInfo1.수용인원}이었습니다!</li>`
                cgvInfo1.수용인원 = 300;
    
                hcode += `<li>🥓 2022년 CGV 극장 수용인원은 ${cgvInfo1.수용인원}명이 되었습니다!</li>`;
                hcode += '</ul>'


                hcode += '<h1>[ Meaga 상영관 영화 안내 ]</h1><ul>';
                let poster = (x) => `<img src=${x} />`
                Object.keys(megaInfo1).forEach(ele => hcode+= `<li>
                        ${ ele=='포스터'? poster(megaInfo1.포스터) : megaInfo1[ele]}
                    </li>`);
                hcode += `<li>${megaInfo1.showMega('mega는 항상 훌륭합니다.')}</li>`
                hcode += `<li>🥓 2022년 CGV 극장 수용인원은 ${megaInfo1.수용인원}이었습니다!</li>`
                megaInfo1.수용인원 = 500;
    
                hcode += `<li>🥓 2022년 CGV 극장 수용인원은 ${megaInfo1.수용인원}명이 되었습니다!</li>`;
                hcode += '</ul>'
                document.body.innerHTML += hcode;
            });
        </script>
        <style></style>
    </head>
    <body></body>
</html>
