<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS2-2. 바(var), 렛(let), 콘스트(const)</title>
        <script>
            /******************************************** 
                변수는 바.렛.콘스트!!!

                [ var ] : 함수영역변수
                1. 함수영역에서 사용할 때만 지역변수
                2. 함수영역 바깥에서 사용하면 전역변수
                3. 전역변수와 같은 이름의 변수를 함수내에서 선언없이 값을 할당하면 전역변수가 덮어써진다!
                4. 함수영역에서 전역변수와 같은 이름의 지역변수를 선언하여 사용하면 전역변수와 
                    연결성이 끊어지고 지역변수만을 지칭하게 됨
                5. 같은 영역에서 같은 이름의 변수를 다시 선언하면 재선언하여 관리함 ( 덮어쓰기함 )
                _________________________________________________________________________________________
                
                (지역변수 : Local Variable)
                함수영역내에 선언한 변수
                - 특징 : 다른 함수나 바깥(전역) 영역에서 지역변수를 참조할 수 없다! (사용불가)

                (전역변수 : Global Variable)
                함수영역 바깥에서 선언한 변수
                - 특징 : 어떤 함수에서도 전역변수를 참조할 수 있다. (사용가능)
                -> 전역변수는 공유하고자 하는 데이터를 저장할 때 많이 사용함!
                __________________________________________________________________________________________
                
                [ let ] : 블록영역변수 ( 중괄호는 모두 블록임! )
                1. let으로 변수를 선언하면 전역과 지역을 별도로 관리하여 같은 이름의 변수도 별개의 변수로 인식함
                2. let 변수는 선언 후 아래쪽에서 사용해야만 한다!
                -> 변수 호이스팅 금지!
                (비교 : var는 위에서 호출하고 아래에서 선언 가능함)
                -> 변수의 호이스팅 -> hoist(끌어롤리다...라는 뜻!)
                3. 같은 영역에서 같은 이름의 변수를 중복선언이 불가! ( 비교 : var은 중복선언 가능! )

                ****************************************

                [ const ] : 

            ********************************************/

            /////////////////////////////////////////////
            /////////////// var 테스트 //////////////////
            /////////////////////////////////////////////

            // 1. 함수 중괄호에서 var ///////////////
            function callMe() {
                var usa = "미국";
                console.log('3. 함수안 지역 usa :', usa); // 미국
                
                // 함수 내에서 전역변수 korea값 변경
                korea = '코리아';
                console.log('4. 함수안 전역 korea :', korea); // 코리아

                // 함수 내에서 전역 uk 찍기
                console.log('5. 함수내 전역 uk :', uk); // 영국 -> undefined
                // 아랫쪽에 같은 이름의 지역 uk를 만드는 순간 이 uk변수는 지역변수로
                // 취급된다. 전역변수 uk와는 영영 이별을 하게됨! ㅜㅠ
                // 결과 : undefined -> 지역 uk변수가 할당전에 출력됨!
                // 선언하기 전 위에서 변수가 호출되는 현상을 변수 호이스팅!!! 이라고 한다

                // 전역변수에 선언된 uk변수와 같은 이름의 uk 지역변수 만들기
                var uk = '유케이';
                console.log('6. 함수내 지역 uk :', uk); // 유케이 
                
                // undefinde 결과이해하기
                var 나변수;
                console.log('할당안된 변수 값은? :', 나변수); // undefined

                // 선언한적이 없는 변수를 바로 사용해보자
                rabbit = '토끼';
                console.log('7. 함수내 선언없는 rabbit :', rabbit); // 토끼

            } ////////// callMe 함수 ///////////////
            ////////////////////////////////////////

            // 함수 바깥에서 변수를 선언하면 전역변수!
            var korea = "한국";
            var uk = "영국";

            console.log('1. 함수밖 전역 korea :', korea); // 한국
            console.log('2. 함수밖 전역 uk :', uk); // 영국

            // callMe 함수호출
            callMe();
            
            // 함수내에서 전역변수 변경후 변수 찍기
            console.log('8. 함수밖 전역 korea :', korea); // 코리아

            // 함수안에서 선언없이 할당한 변수 rabbit 바깥에서 찍기
            console.log('9. 함수밖 선언없는 rabbit :', rabbit); // 토끼
            // -> 선언없이 지역에서 할당한 변수는 전역에 등록된다!
            // 변수관리가 어려워지고 나중에 소스관리에 리스크로 작용할 수 있다.
            // -> 선언없이 변수를 사용하지 말라!
            // ->>> w3c, JS업데이트 팀 권고사항

            //////////////////////////////////////////////////
            /////////////// let,const 테스트 //////////////////
            //////////////////////////////////////////////////

            var seoul = "서울";
            var jeju = "제주도";
            let toktok = "카톡";
            let sport = "축구";

            ////// 중괄호로 블록영역을 만들어 본다! //////////
            /**********************************************************************/
            {
                // 블록영역 내부에서 전역변수 찍기 앞
                console.log('블록영역 내부에서 전역변수 찍기 앞');
                console.log('seoul', seoul); // 서울
                
                // 블록에서 변수 재선언하기
                // 전역변수를 재선언 할당 한 것임
                // var은 중괄호를 기준하지 않는다!
                var seoul = '강남구';

                // console.log('toktok :',toktok); // error ◆
                // -> 지역변수가 되면 변수 호이스팅 금지!

                // console.log('jeju :', jeju); // 제주도 -> 에러 ★
                // 아래쪽에 let jeju를 선언한 순간 에러 발생!!
                // -> 에러메시지 :  Cannot access 'jeju' before initialization
                // let으로 전역변수를 다시 선언하면 let은 중괄호를 지역으로 설정하므로
                // 위쪽에서 지역변수인 let을 미리 호출할 수 없다.
                // -> 변수 호이스팅 금지!!!

                let jeju = '마라도';
                // 아래쪽에서 지역변수 jeju가 사용가능!
                console.log('jeju :', jeju); // 마라도 ★

                // 전역변수에 let으로 선언된 같은 이름의 변수 만들기
                let toktok = '라인';
                console.log('toktok :',toktok); // 라인 ◆

                // 블록영역 내부에서 전역변수 찍기 뒤
                console.log('블록영역 내부에서 전역변수 찍기 뒤');
                console.log('seoul', seoul); // 강남구

            }
            /**********************************************************************/
            
            // 블록바깥에서 전역변수 찍기!
            console.log('블록영역 바깥에서 전역변수 찍기');
            console.log('seoul', seoul); // 서울 -> 강남구
            console.log('jeju :', jeju); // 제주도 ★
            console.log('toktok :',toktok); // 카톡 ◆

            //////////////////////////////////////////////

            //////////////////////////////////////////
            //// 변수 호이스팅(Variable Hoisting) /////
            ///////////////////////////////////////////

            //////////// 상수 테스트 /////////////

            //////////////////////////////////////////////
            //////// const의 활용 : 배열, 객체, 함수 /////
            //////////////////////////////////////////////

            // [1. 배열 ] //////////////////

            // [2. 객체]

            // [3. 함수] ////////////////////
        </script>
    </head>
    <body></body>
</html>
